<ng-container *ngIf="form" [formGroup]="form">
  <icc-form-field
    [ngStyle]="{ display: hidden ? 'none' : 'inherit' }"
    [iccLabelWidth]="fieldConfig.labelWidth"
    [iccFieldWidth]="fieldConfig.fieldWidth"
    [iccFieldControl]="field"
  >
    <icc-label *ngIf="fieldConfig.fieldLabel !== undefined">
      {{ fieldConfig.fieldLabel }}
    </icc-label>
    <input
      #fileInput
      iccInput
      type="file"
      class="upload-file-input"
      [formControlName]="fieldConfig.fieldName!"
      [required]="required"
      placeholder="{{ fieldConfig.placeholder }}"
    />
    <icc-icon
      *ngIf="!field.disabled"
      class="folder-open"
      icon="folder-open"
      iccSuffix
      (click)="fileInput.click()"
    ></icc-icon>
    <icc-icon *ngIf="fieldConfig.clearValue && hasValue" icon="remove" iccSuffix (click)="clearValue()"></icc-icon>

    <icc-form-field-errors *ngIf="field?.touched && field?.errors">
      <icc-field-errors [errors]="field!.errors!"></icc-field-errors>
    </icc-form-field-errors>
  </icc-form-field>
</ng-container>
