<ng-container *ngFor="let item of items">
  <icc-menu-item
    *ngIf="isLeafMenu(item)"
    [menuItem]="item"
    (click)="itemClicked($event, item)"
    (iccMenuItemClick)="menuItemClick($event)"
  >
  </icc-menu-item>

  <span
    *ngIf="hasChildItem(item) && level === 0"
    [iccPopover]="menu"
    [iccPopoverTrigger]="menuTrigger"
    [popoverLevel]="level"
    [iccPopoverPosition]="bottom"
  >
    <icc-icon *ngIf="item.icon" [config]="item.icon"></icc-icon>
    <span class="icc-menu-item-title"> {{ item.title }}</span>
  </span>

  <icc-menu-item
    *ngIf="hasChildItem(item) && level > 0"
    [menuItem]="item"
    [iccPopover]="menu"
    [iccPopoverTrigger]="popoverTrigger"
    [popoverLevel]="level"
    [iccPopoverPosition]="rightBottom"
    (iccMenuItemClick)="menuItemClick($event)"
  >
  </icc-menu-item>

  <ng-template #menu>
    <icc-menus
      class="icc-menus-sub-level"
      [items]="item.children!"
      [level]="level + 1"
      (iccMenuItemClick)="menuItemClick($event)"
    >
    </icc-menus>
  </ng-template>
</ng-container>
