<ng-container *ngFor="let item of items">
  <icc-menu-item *ngIf="isLeafMenu(item)" [menuItem]="item" (click)="itemClicked($event, item)"> </icc-menu-item>

  <span *ngIf="hasChildItem(item) && level === 0">
    <button
      icc-button
      [iccPopover]="menu"
      [iccPopoverTrigger]="popoverTrigger"
      [popoverLevel]="level + 1"
      popoverPosition="bottomRight"
    >
      <i *ngIf="item.icon" [class]="item.icon"></i>
      <span class="icc-menu-item-title"> {{ item.title }}</span>
      <i *ngIf="level > 0" class="fas fa-caret-right"></i>
    </button>
  </span>

  <icc-menu-item
    *ngIf="hasChildItem(item) && level > 0"
    [menuItem]="item"
    [iccPopover]="menu"
    [iccPopoverTrigger]="popoverTrigger"
    [popoverLevel]="level + 1"
    popoverPosition="Right"
  >
  </icc-menu-item>

  <ng-template #menu>
    <icc-menus
      class="icc-menus-sub-level"
      [items]="item.children!"
      [level]="level + 1"
      (click)="itemClicked($event, item)"
    >
    </icc-menus>
  </ng-template>
</ng-container>
