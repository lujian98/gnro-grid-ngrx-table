<icc-grid-header-item *ngIf="gridConfig.rowSelection">
  <icc-row-select
    *ngIf="viewModel$ | async as vm"
    class="icc-header-row-select"
    [ngStyle]="{ height: gridConfig.headerHeight + 'px' }"
    [selected]="vm.allSelected"
    [indeterminate]="getIndeterminate(vm.selection, vm.allSelected)"
    (click)="onToggleSelectAll(vm.allSelected)"
  >
  </icc-row-select>
  <div
    class="icc-header-no-filter-border"
    [ngStyle]="{ height: gridConfig.headerHeight + 'px' }"
    *ngIf="gridConfig.columnFilter"
  ></div>
</icc-grid-header-item>

<ng-container *ngFor="let column of columns; trackBy: trackByIndex; let index = index">
  <icc-grid-header-item
    *ngIf="!column.hidden"
    [ngStyle]="{ flex: '0 0 ' + getColumnWidth(column), 'max-width': getColumnWidth(column) }"
    [column]="column"
    [columns]="columns"
    [gridConfig]="gridConfig"
    (columnResizing)="columnResizing.emit($event)"
    (columnResized)="columnResized.emit($event)"
    cdkDrag
    [cdkDragDisabled]="dragDisabled"
    iccColumnResize
  >
    <icc-grid-header-cell
      [ngStyle]="{ height: gridConfig.headerHeight + 'px' }"
      [column]="column"
      [gridConfig]="gridConfig"
      (columnMenuClick)="onColumnMenuClick($event)"
    >
    </icc-grid-header-cell>

    <icc-column-filter
      *ngIf="gridConfig.columnFilter && column.filterField !== false"
      [gridConfig]="gridConfig"
      [column]="column"
    >
    </icc-column-filter>
    <div
      class="icc-header-no-filter-border"
      [ngStyle]="{ height: gridConfig.headerHeight + 'px' }"
      *ngIf="gridConfig.columnFilter && column.filterField === false"
    ></div>

    <div class="drag-placeholder" *cdkDragPlaceholder></div>
    <div *ngIf="gridConfig.columnResize" class="icc-grid-column-resize-action" iccColumnResizeTrigger></div>
  </icc-grid-header-item>
</ng-container>
