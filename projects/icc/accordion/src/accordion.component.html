@for (item of items; track item; let index = $index) {
  <icc-layout [ngStyle]="{ flex: getHeaderStyle(item) }">
    <icc-layout-header
      [ngClass]="item.expanded ? 'icc-accordion-item-expanded' : ''"
      [title]="getTitle(item)"
      (click)="toggle(item, !!item.expanded)"
    >
      <icc-icon *ngIf="item.expanded" config="chevron-up"></icc-icon>
      <icc-icon *ngIf="!item.expanded" config="chevron-down"></icc-icon>
    </icc-layout-header>

    <icc-layout-horizontal *ngIf="item?.expanded && item.items">
      <icc-menus [items]="item.items" (iccMenuItemClick)="onMenuItemClick($event)"></icc-menus>
    </icc-layout-horizontal>
  </icc-layout>
}
