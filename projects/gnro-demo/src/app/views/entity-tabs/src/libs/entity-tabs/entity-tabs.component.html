<div>
  <button gnro-button (click)="addTab()">Add tab</button>
  @if (activeTab()?.editing === false) {
    <button gnro-button (click)="edit()">Edit</button>
  }
  @if (activeTab()?.editing === true) {
    <button gnro-button (click)="view()">View</button>
    <button gnro-button [disabled]="activeTab()?.dirty !== true" (click)="reset()">Reset</button>
    <button gnro-button [disabled]="activeTab()?.dirty !== true || activeTab()?.invalid === true" (click)="save()">
      Save
    </button>
  }
</div>
<gnro-tab-group [selectedIndex]="selectedIndex" (selectedIndexChange)="onSelectedIndexChange($event)">
  @for (tab of tabs$(); track $index; let index = $index) {
    <gnro-tab label="{{ tab.title }}">
      <ng-container [ngComponentOutlet]="entity()" [ngComponentOutletInputs]="{ tabId: tab.id }"></ng-container>
    </gnro-tab>
  }
</gnro-tab-group>
