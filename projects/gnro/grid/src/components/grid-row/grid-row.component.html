@if (gridConfig().rowSelection) {
  <gnro-grid-cell
    class="gnro-grid-cell-row-select"
    [class.gnro-grid-column-last-sticky]="isLastSticky(-1)"
    [style.flex]="'0 0 ' + selectColumnWidth"
    [style.left]="gridConfig().columnSticky ? '0px' : 'unset'"
    [gridConfig]="gridConfig()"
    [sticky]="gridConfig().columnSticky"
    [selected]="selected()"
    [rowIndex]="rowIndex()"
    column="selection"
    [columns]="columns()"
    [columnWidths]="columnWidths()"
  >
    <gnro-row-select [selected]="selected()"> </gnro-row-select>
  </gnro-grid-cell>
}

@for (column of columns(); track $index; let index = $index) {
  @if (!column.hidden) {
    <gnro-grid-cell
      [class.gnro-grid-column-last-sticky]="isLastSticky(index)"
      [class.gnro-grid-column-first-sticky-end]="isFirstStickyEnd(index)"
      [style.flex]="'0 0 ' + getColumnWidth(column)"
      [style.max-width]="getColumnWidth(column)"
      [style.left]="getStickyLeft(column, index)"
      [style.right]="getStickyRight(column, index)"
      [gridConfig]="gridConfig()"
      [sticky]="!!(this.gridConfig().columnSticky && (column.sticky || column.stickyEnd))"
      [selected]="selected()"
      [rowIndex]="rowIndex()"
      [column]="column"
      [columns]="columns()"
      [columnWidths]="columnWidths()"
    >
      @if (!isCellEditable(column)) {
        <gnro-grid-cell-view [gridConfig]="gridConfig()" [rowIndex]="rowIndex()" [column]="column" [record]="record()">
        </gnro-grid-cell-view>
      } @else {
        <gnro-grid-cell-edit
          [gridConfig]="gridConfig()"
          [gridSetting]="gridSetting()"
          [rowIndex]="rowIndex()"
          [column]="column"
          [record]="record()"
        >
        </gnro-grid-cell-edit>
      }
    </gnro-grid-cell>
  }
}
